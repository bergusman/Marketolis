// Generated by Pdef Objective-C generator.

#import "MRAuth.h"
#import "MRAuthResult.h"


#pragma mark MRAuth client
@implementation MRAuthClient

- (NSOperation *) loginByPhoneNumber:(int64_t )number
        callback:(void (^)(id result, NSError *error))callback {
    PDInvocation *_invocation = [self
            captureInvocation:[self getMethodForName:@"loginByPhone"]
                         args:@{
                                 @"number" :@(number),
                         }];
    return [self.handler handleInvocation:_invocation callback:callback];
}
- (NSOperation *) confirmPhoneNumber:(int64_t )number
        code:(NSString *)code
        pushToken:(NSString *)pushToken
        callback:(void (^)(id result, NSError *error))callback {
    PDInvocation *_invocation = [self
            captureInvocation:[self getMethodForName:@"confirmPhone"]
                         args:@{
                                 @"number" :@(number),
                                 @"code" :code,
                                 @"pushToken" :pushToken,
                         }];
    return [self.handler handleInvocation:_invocation callback:callback];
}

- (PDMethodDescriptor *)getMethodForName:(NSString *)name {
    return [MRAuthDescriptor() getMethodForName:name];
}
@end


#pragma mark MRAuth descriptor
static dispatch_once_t MRAuthOnce;
static PDInterfaceDescriptor *_MRAuthDescriptor;

PDInterfaceDescriptor *MRAuthDescriptor() {
    dispatch_once(&MRAuthOnce, ^() {
        _MRAuthDescriptor = [[PDInterfaceDescriptor alloc]
                initWithProtocol:@protocol(MRAuth)
                             exc:nil
                         methods:@[
     [[PDMethodDescriptor alloc]
             initWithName:@"loginByPhone"
           resultSupplier:^PDDescriptor *() { return [PDDescriptors void0]; }
                     args:@[
           [[PDArgumentDescriptor alloc] initWithName:@"number" type: [PDDescriptors int64] post:YES query:NO],
                        ]
                     post:YES],
     [[PDMethodDescriptor alloc]
             initWithName:@"confirmPhone"
           resultSupplier:^PDDescriptor *() { return [MRAuthResult typeDescriptor]; }
                     args:@[
           [[PDArgumentDescriptor alloc] initWithName:@"number" type: [PDDescriptors int64] post:YES query:NO],
           [[PDArgumentDescriptor alloc] initWithName:@"code" type: [PDDescriptors string] post:YES query:NO],
           [[PDArgumentDescriptor alloc] initWithName:@"pushToken" type: [PDDescriptors string] post:YES query:NO],
                        ]
                     post:YES],
                         ]];
    });
    return _MRAuthDescriptor;
}
